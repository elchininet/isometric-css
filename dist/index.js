!function(t,e){for(var r in e)t[r]=e[r];e.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})}(exports,(()=>{"use strict";var t={506:(t,e,r)=>{r.r(e),r.d(e,{default:()=>o});const o=function(t){for(var e,r=0,o=0,i=t.length;i>=4;++o,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+(59797*(e>>>16)<<16),r=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&t.charCodeAt(o+2))<<16;case 2:r^=(255&t.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(o)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},158:function(t,e,r){var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(37),n=r(539),s=r(995),a=function(){function t(){this._elements=new Map,this._classes=new Map,this._styles=new s.Styles}return t.prototype.removeClasses=function(t,e){t.classList.remove(e);var r=this._classes.get(e),o=r.findIndex((function(e){return e===t}));r.splice(o,1),0===r.length&&(this._classes.delete(e),this._styles.remove(e))},t.prototype.process=function(t,e){var r=this._elements.get(t),o=this._styles.getRuleData(e);if(r){if(r.selector===o.selector)return;this.removeClasses(t,r.selector)}t.classList.add(o.selector);var i=this._classes.get(o.selector);i?i.push(t):(this._styles.insert(o.selector,o.declaration),this._classes.set(o.selector,[t])),this._elements.set(t,{plane:e,selector:o.selector,rule:o.rule})},t.prototype.addElement=function(t){var e=n.getPlaneFromElement(t);this.process(t,e)},t.prototype.removeElement=function(t){n.resetElementIsometricData(t);var e=this._elements.get(t);e&&(this._elements.delete(t),this.removeClasses(t,e.selector))},t.prototype.setElementView=function(t,e){if(e===i.VIEW.top||e===i.VIEW.front||e===i.VIEW.side){var r=this._elements.get(t);this.process(t,r?o(o({},r.plane),{view:e}):{view:e})}},t.prototype.setElementPosition=function(t,e){if(+e.right||+e.left||+e.top){var r=this._elements.get(t);this.process(t,r?o(o({},r.plane),{position:o(o({},r.plane.position),e)}):{position:e})}},t.prototype.setElementRotation=function(t,e){if((e.axis===i.VIEW.top||e.axis===i.VIEW.front||e.axis===i.VIEW.side)&&+e.value){var r=this._elements.get(t);this.process(t,r?o(o({},r.plane),{rotation:e}):{rotation:e})}},t.prototype.setElementTexture=function(t,e){if(!("string"!=typeof e.url||e.size&&"string"!=typeof e.size||e.pixelated&&"boolean"!=typeof e.pixelated)){var r=this._elements.get(t);this.process(t,r?o(o({},r.plane),{texture:o(o({},r.plane.texture),e)}):{texture:e})}},t}();e.default=new a},995:function(t,e,r){var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Styles=void 0;var i=r(506),n=r(37),s=r(821),a=r(854),l=r(361),u=function(){function t(){this._style=null,this.scale=a.round(n.SCALE),this.P50="50%",this.transformBefore="translate(-"+this.P50+", -"+this.P50+")",this.tranformAfterTop="translate(-"+this.P50+", "+this.P50+")",this.transformAfterFront="translate(-"+this.P50+", -"+this.P50+")",this.transformAfterSide="translate("+this.P50+", -"+this.P50+")",this.baseDeclarations={position:"absolute"},this.transformOriginDeclarations={transformOrigin:this.P50+" "+this.P50,MsTransformOrigin:this.P50+" "+this.P50,WebkitTransformOrigin:this.P50+" "+this.P50}}return Object.defineProperty(t.prototype,"sheet",{get:function(){return this._style?this._style.sheet:null},enumerable:!1,configurable:!0}),t.prototype.getTransform=function(t,e){var r=l.getViewMatrix(t,e);if(!r)return null;var o="matrix("+a.round(r[0][0])+","+a.round(r[1][0])+","+a.round(r[0][1])+","+a.round(r[1][1])+",0,0)",i=this.transformBefore+" "+o+" scale("+this.scale+")";switch(t){case n.VIEW.top:return i+" "+this.tranformAfterTop;case n.VIEW.front:return i+" "+this.transformAfterFront;case n.VIEW.side:return i+" "+this.transformAfterSide}},t.prototype.declarationString=function(t){var e=this;return Object.entries(t).reduce((function(t,r){return Array.isArray(r[1])?t+"\n    "+r[1].map((function(t){return e.declarationString(t)})).join("\n"):t+"\n    "+s.kebab(r[0])+": "+r[1]+";"}),"")},t.prototype.tranformPlaneToRule=function(t){var e=this.getTransform(t.view,t.rotation),r=e?o(o(o({},this.baseDeclarations),this.transformOriginDeclarations),{transform:e,MsTransform:e,WebkitTransform:e}):o({},this.baseDeclarations);if(t.position){var i=a.isometricToPoint(t.position);r.left=i.x+"px",r.top=i.y+"px"}return t.texture&&(r.backgroundImage='url("'+t.texture.url+'")',r.backgroundSize=t.texture.size||"cover",t.texture.pixelated&&(r.MsInterpolationMode="nearest-neighbor",r.imageRendering="pixelated",r.fallbacks=[{imageRendering:"crisp-edges"}])),r},t.prototype.init=function(){this._style=document.createElement("style"),this._style.dataset.isometric="",document.getElementsByTagName("head")[0].appendChild(this._style)},t.prototype.getRule=function(t){return this.tranformPlaneToRule(t)},t.prototype.getDeclarationString=function(t){return this.declarationString(t)},t.prototype.getSelector=function(t){return n.NAMESPACE+"-"+i.default(t)},t.prototype.getRuleData=function(t){var e=this.getRule(t),r=this.getDeclarationString(e);return{rule:e,declaration:r,selector:this.getSelector(r)}},t.prototype.insert=function(t,e){this.sheet||this.init(),this.sheet.insertRule("."+t+" {\n"+e+"\n}")},t.prototype.remove=function(t){var e=this;Array.prototype.some.call(this.sheet.cssRules,(function(r,o){return!(!r||r.selectorText.slice(1)!==t||(e.sheet.deleteRule(o),0))}))},t}();e.Styles=u},37:(t,e)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.TYPE_UNDEFINED=e.VIEW=e.ROT_CMA=e.ROT_45=e.ROT_60=e.SCALE=e.HSQRT3=e.DECIMALS=e.NAMESPACE=void 0,e.NAMESPACE="isometric",e.DECIMALS=6,e.HSQRT3=+(Math.sqrt(3)/2).toFixed(e.DECIMALS),e.SCALE=Math.sqrt(1.5),e.ROT_60=Math.PI/3,e.ROT_45=Math.PI/4,e.ROT_CMA=Math.atan(Math.SQRT2),(r=e.VIEW||(e.VIEW={})).top="top",r.front="front",r.side="side",e.TYPE_UNDEFINED="undefined"},607:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IsometricCSS=void 0;var o=r(37),i=r(158);e.IsometricCSS={processDOM:function(){Array.prototype.forEach.call(document.querySelectorAll("."+o.NAMESPACE),(function(t){i.default.addElement(t)}))},processElement:function(t){i.default.addElement(t)},resetElement:function(t){i.default.removeElement(t)},setView:function(t,e){i.default.setElementView(t,e)},setRotation:function(t,e){i.default.setElementRotation(t,e)},setPosition:function(t,e){i.default.setElementPosition(t,e)},setTexture:function(t,e){i.default.setElementTexture(t,e)}},typeof window!==o.TYPE_UNDEFINED&&typeof document!==o.TYPE_UNDEFINED&&(window.IsometricCSS=e.IsometricCSS,window.addEventListener("DOMContentLoaded",(function(){e.IsometricCSS.processDOM()})))},539:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resetElementIsometricData=e.getPlaneFromElement=void 0;var o=r(37);e.getPlaneFromElement=function(t){var e=t.dataset.view?t.dataset.view:null,r=+(t.dataset.right||0),o=+(t.dataset.left||0),i=+(t.dataset.top||0),n=t.dataset.rotationAxis?t.dataset.rotationAxis:null,s=+(t.dataset.rotationValue||0),a=t.dataset.texture,l=t.dataset.textureSize||"cover",u="true"===t.dataset.texturePixelated,c={};return e&&(c.view=e),(r||o||i)&&(c.position={right:r,left:o,top:i}),n&&s&&(c.rotation={axis:n,value:s}),a&&(c.texture={url:a,size:l,pixelated:u}),c},e.resetElementIsometricData=function(t){t.classList.remove(o.NAMESPACE),function(t,e){["view","right","left","top","rotationAxis","rotationValue","texture","textureSize","texturePixelated"].forEach((function(e){t.dataset[e]&&delete t.dataset[e]}))}(t)}},854:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isometricToPoint=e.sincos=e.radian=e.round=void 0;var o=r(37);e.round=function(t){var e=Math.pow(10,o.DECIMALS);return Math.round(t*e)/e},e.radian=function(t){return t*Math.PI/180},e.sincos=function(t){return{sin:e.round(Math.sin(t)),cos:e.round(Math.cos(t))}},e.isometricToPoint=function(t){var r=t.right,i=void 0===r?0:r,n=t.left,s=void 0===n?0:n,a=t.top,l=void 0===a?0:a;return{x:e.round((i-s)*o.HSQRT3),y:e.round((i+s)/2-l)}}},361:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getViewMatrix=e.sideMatrix=e.frontMatrix=e.topMatrix=e.rotateZ=e.rotateY=e.rotateX=e.multiplyMatrices=e.multiplyMatrix=void 0;var o=r(37),i=r(854);e.multiplyMatrix=function(t,e){return t.map((function(r,o){return e[0].map((function(i,n){return r.reduce((function(r,i,s){return r+t[o][s]*e[s][n]}),0)}))}))},e.multiplyMatrices=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var o=t[0],i=1;i<t.length;i++)o=e.multiplyMatrix(o,t[i]);return o},e.rotateX=function(t){var e=i.sincos(t);return[[1,0,0],[0,e.cos,-e.sin],[0,e.sin,e.cos]]},e.rotateY=function(t){var e=i.sincos(t);return[[e.cos,0,e.sin],[0,1,0],[-e.sin,0,e.cos]]},e.rotateZ=function(t){var e=i.sincos(t);return[[e.cos,-e.sin,0],[e.sin,e.cos,0],[0,0,1]]},e.topMatrix=e.multiplyMatrices(e.rotateX(o.ROT_CMA),e.rotateZ(-o.ROT_45)),e.frontMatrix=e.multiplyMatrices(e.rotateZ(-o.ROT_60),e.rotateX(o.ROT_CMA),e.rotateZ(o.ROT_45)),e.sideMatrix=e.multiplyMatrices(e.rotateZ(o.ROT_60),e.rotateX(o.ROT_CMA),e.rotateZ(-o.ROT_45)),e.getViewMatrix=function(t,r){if(!r)switch(t){case o.VIEW.top:return e.topMatrix;case o.VIEW.front:return e.frontMatrix;case o.VIEW.side:return e.sideMatrix;default:return null}var n=i.radian(r.value);switch(t){case o.VIEW.top:switch(r.axis){case o.VIEW.top:return e.multiplyMatrix(e.topMatrix,e.rotateZ(n));case o.VIEW.front:return e.multiplyMatrix(e.topMatrix,e.rotateY(n));default:return e.multiplyMatrix(e.topMatrix,e.rotateX(-n))}case o.VIEW.front:switch(r.axis){case o.VIEW.top:return e.multiplyMatrix(e.frontMatrix,e.rotateY(n));case o.VIEW.front:return e.multiplyMatrix(e.frontMatrix,e.rotateZ(n));default:return e.multiplyMatrix(e.frontMatrix,e.rotateX(n))}case o.VIEW.side:switch(r.axis){case o.VIEW.top:return e.multiplyMatrix(e.sideMatrix,e.rotateY(n));case o.VIEW.front:return e.multiplyMatrix(e.sideMatrix,e.rotateX(-n));default:return e.multiplyMatrix(e.sideMatrix,e.rotateZ(n))}default:return null}}},821:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.kebab=void 0,e.kebab=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}}},e={};function r(o){if(e[o])return e[o].exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,r),i.exports}return r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(607)})());