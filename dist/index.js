!function(t,e){for(var r in e)t[r]=e[r];e.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})}(exports,(()=>{"use strict";var t={506:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});const i=function(t){for(var e,r=0,i=0,o=t.length;o>=4;++i,o-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),r=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},158:function(t,e,r){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(37),n=r(539),s=r(995),a=function(){function t(){this._elements=new Map,this._classes=new Map,this._styles=new s.Styles}return t.prototype.removeClasses=function(t,e){t.classList.remove(e);var r=this._classes.get(e),i=r.findIndex((function(e){return e===t}));r.splice(i,1),0===r.length&&(this._classes.delete(e),this._styles.remove(e))},t.prototype.process=function(t,e){var r=this._elements.get(t),i=this._styles.getRuleData(e);if(r){if(r.selector===i.selector)return;this.removeClasses(t,r.selector)}t.classList.add(i.selector);var o=this._classes.get(i.selector);o?o.push(t):(this._styles.insert(i.selector,i.declaration),this._classes.set(i.selector,[t])),this._elements.set(t,{plane:e,selector:i.selector,rule:i.rule})},t.prototype.addElement=function(t){var e=n.getPlaneFromElement(t);this.process(t,e)},t.prototype.removeElement=function(t){n.resetElementIsometricData(t);var e=this._elements.get(t);e&&(this._elements.delete(t),this.removeClasses(t,e.selector))},t.prototype.setElementView=function(t,e){if(e===o.VIEW.top||e===o.VIEW.front||e===o.VIEW.side){var r=this._elements.get(t);this.process(t,r?i(i({},r.plane),{view:e}):{view:e})}},t.prototype.setElementPosition=function(t,e){if(+e.right||+e.left||+e.top){var r=this._elements.get(t);this.process(t,r?i(i({},r.plane),{position:i(i({},r.plane.position),e)}):{position:e})}},t.prototype.setElementRotation=function(t,e){if((e.axis===o.AXIS.right||e.axis===o.AXIS.left||e.axis===o.AXIS.top)&&+e.value){var r=this._elements.get(t);this.process(t,r?i(i({},r.plane),{rotation:e}):{rotation:e})}},t.prototype.setElementTexture=function(t,e){if(!("string"!=typeof e.url||e.size&&"string"!=typeof e.size||e.pixelated&&"boolean"!=typeof e.pixelated)){var r=this._elements.get(t);this.process(t,r?i(i({},r.plane),{texture:i(i({},r.plane.texture),e)}):{texture:e})}},t}();e.default=new a},995:function(t,e,r){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Styles=void 0;var o=r(506),n=r(37),s=r(821),a=r(854),l=r(361),u=function(){function t(){this._style=null,this.scale=a.round(n.SCALE),this.P50="50%",this.transformBefore="translate(-"+this.P50+", -"+this.P50+")",this.tranformAfterTop="translate(-"+this.P50+", "+this.P50+")",this.transformAfterFront="translate(-"+this.P50+", -"+this.P50+")",this.transformAfterSide="translate("+this.P50+", -"+this.P50+")",this.baseDeclarations={position:"absolute"},this.transformOriginDeclarations={transformOrigin:this.P50+" "+this.P50,MsTransformOrigin:this.P50+" "+this.P50,WebkitTransformOrigin:this.P50+" "+this.P50}}return Object.defineProperty(t.prototype,"sheet",{get:function(){return this._style?this._style.sheet:null},enumerable:!1,configurable:!0}),t.prototype.getTransform=function(t,e){var r=l.getViewMatrix(t,e);if(!r)return null;var i="matrix("+a.round(r[0][0])+","+a.round(r[1][0])+","+a.round(r[0][1])+","+a.round(r[1][1])+",0,0)",o=this.transformBefore+" "+i+" scale("+this.scale+")";switch(t){case n.VIEW.top:return o+" "+this.tranformAfterTop;case n.VIEW.front:return o+" "+this.transformAfterFront;case n.VIEW.side:return o+" "+this.transformAfterSide}},t.prototype.declarationString=function(t){var e=this;return Object.entries(t).reduce((function(t,r){return Array.isArray(r[1])?t+"\n    "+r[1].map((function(t){return e.declarationString(t)})).join("\n"):t+"\n    "+s.kebab(r[0])+": "+r[1]+";"}),"")},t.prototype.tranformPlaneToRule=function(t){var e=this.getTransform(t.view,t.rotation),r=e?i(i(i({},this.baseDeclarations),this.transformOriginDeclarations),{transform:e,MsTransform:e,WebkitTransform:e}):i({},this.baseDeclarations);if(t.position){var o=a.isometricToPoint(t.position);r.left=o.x+"px",r.top=o.y+"px"}return t.texture&&(r.backgroundImage='url("'+t.texture.url+'")',r.backgroundSize=t.texture.size||"cover",t.texture.pixelated&&(r.MsInterpolationMode="nearest-neighbor",r.imageRendering="pixelated",r.fallbacks=[{imageRendering:"crisp-edges"}])),r},t.prototype.init=function(){this._style=document.createElement("style"),this._style.dataset.isometric="",document.getElementsByTagName("head")[0].appendChild(this._style)},t.prototype.getRule=function(t){return this.tranformPlaneToRule(t)},t.prototype.getDeclarationString=function(t){return this.declarationString(t)},t.prototype.getSelector=function(t){return n.NAMESPACE+"-"+o.default(t)},t.prototype.getRuleData=function(t){var e=this.getRule(t),r=this.getDeclarationString(e);return{rule:e,declaration:r,selector:this.getSelector(r)}},t.prototype.insert=function(t,e){this.sheet||this.init(),this.sheet.insertRule("."+t+" {\n"+e+"\n}")},t.prototype.remove=function(t){var e=this;Array.prototype.some.call(this.sheet.cssRules,(function(r,i){return!(!r||r.selectorText.slice(1)!==t||(e.sheet.deleteRule(i),0))}))},t}();e.Styles=u},37:(t,e)=>{var r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.TYPE_UNDEFINED=e.AXIS=e.VIEW=e.ROT_CMA=e.ROT_45=e.ROT_60=e.SCALE=e.HSQRT3=e.DECIMALS=e.NAMESPACE=void 0,e.NAMESPACE="isometric",e.DECIMALS=6,e.HSQRT3=+(Math.sqrt(3)/2).toFixed(e.DECIMALS),e.SCALE=Math.sqrt(1.5),e.ROT_60=Math.PI/3,e.ROT_45=Math.PI/4,e.ROT_CMA=Math.atan(Math.SQRT2),(i=e.VIEW||(e.VIEW={})).top="top",i.front="front",i.side="side",(r=e.AXIS||(e.AXIS={})).right="right",r.left="left",r.top="top",e.TYPE_UNDEFINED="undefined"},607:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IsometricCSS=void 0;var i=r(37),o=r(158);e.IsometricCSS={processDOM:function(){Array.prototype.forEach.call(document.querySelectorAll("."+i.NAMESPACE),(function(t){o.default.addElement(t)}))},processElement:function(t){o.default.addElement(t)},resetElement:function(t){o.default.removeElement(t)},setView:function(t,e){o.default.setElementView(t,e)},setRotation:function(t,e){o.default.setElementRotation(t,e)},setPosition:function(t,e){o.default.setElementPosition(t,e)},setTexture:function(t,e){o.default.setElementTexture(t,e)}},typeof window!==i.TYPE_UNDEFINED&&typeof document!==i.TYPE_UNDEFINED&&(window.IsometricCSS=e.IsometricCSS,window.addEventListener("DOMContentLoaded",(function(){e.IsometricCSS.processDOM()})))},539:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resetElementIsometricData=e.getPlaneFromElement=void 0;var i=r(37);e.getPlaneFromElement=function(t){var e=t.dataset.view?t.dataset.view:null,r=+(t.dataset.right||0),i=+(t.dataset.left||0),o=+(t.dataset.top||0),n=t.dataset.rotationAxis?t.dataset.rotationAxis:null,s=+(t.dataset.rotationValue||0),a=t.dataset.texture,l=t.dataset.textureSize||"cover",u="true"===t.dataset.texturePixelated,c={};return e&&(c.view=e),(r||i||o)&&(c.position={right:r,left:i,top:o}),n&&s&&(c.rotation={axis:n,value:s}),a&&(c.texture={url:a,size:l,pixelated:u}),c},e.resetElementIsometricData=function(t){t.classList.remove(i.NAMESPACE),function(t,e){["view","right","left","top","rotationAxis","rotationValue","texture","textureSize","texturePixelated"].forEach((function(e){t.dataset[e]&&delete t.dataset[e]}))}(t)}},854:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isometricToPoint=e.sincos=e.radian=e.round=void 0;var i=r(37);e.round=function(t){var e=Math.pow(10,i.DECIMALS);return Math.round(t*e)/e},e.radian=function(t){return t*Math.PI/180},e.sincos=function(t){return{sin:e.round(Math.sin(t)),cos:e.round(Math.cos(t))}},e.isometricToPoint=function(t){var r=t.right,o=void 0===r?0:r,n=t.left,s=void 0===n?0:n,a=t.top,l=void 0===a?0:a;return{x:e.round((o-s)*i.HSQRT3),y:e.round((o+s)/2-l)}}},361:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getViewMatrix=e.sideMatrix=e.frontMatrix=e.topMatrix=e.rotateZ=e.rotateY=e.rotateX=e.multiplyMatrices=e.multiplyMatrix=void 0;var i=r(37),o=r(854);e.multiplyMatrix=function(t,e){return t.map((function(r,i){return e[0].map((function(o,n){return r.reduce((function(r,o,s){return r+t[i][s]*e[s][n]}),0)}))}))},e.multiplyMatrices=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i=t[0],o=1;o<t.length;o++)i=e.multiplyMatrix(i,t[o]);return i},e.rotateX=function(t){var e=o.sincos(t);return[[1,0,0],[0,e.cos,-e.sin],[0,e.sin,e.cos]]},e.rotateY=function(t){var e=o.sincos(t);return[[e.cos,0,e.sin],[0,1,0],[-e.sin,0,e.cos]]},e.rotateZ=function(t){var e=o.sincos(t);return[[e.cos,-e.sin,0],[e.sin,e.cos,0],[0,0,1]]},e.topMatrix=e.multiplyMatrices(e.rotateX(i.ROT_CMA),e.rotateZ(-i.ROT_45)),e.frontMatrix=e.multiplyMatrices(e.rotateZ(-i.ROT_60),e.rotateX(i.ROT_CMA),e.rotateZ(i.ROT_45)),e.sideMatrix=e.multiplyMatrices(e.rotateZ(i.ROT_60),e.rotateX(i.ROT_CMA),e.rotateZ(-i.ROT_45)),e.getViewMatrix=function(t,r){if(!r)switch(t){case i.VIEW.top:return e.topMatrix;case i.VIEW.front:return e.frontMatrix;case i.VIEW.side:return e.sideMatrix;default:return null}var n=o.radian(r.value);switch(t){case i.VIEW.top:switch(r.axis){case i.AXIS.top:return e.multiplyMatrix(e.topMatrix,e.rotateZ(n));case i.AXIS.left:return e.multiplyMatrix(e.topMatrix,e.rotateX(-n));default:return e.multiplyMatrix(e.topMatrix,e.rotateY(n))}case i.VIEW.front:switch(r.axis){case i.AXIS.top:return e.multiplyMatrix(e.frontMatrix,e.rotateY(n));case i.AXIS.left:return e.multiplyMatrix(e.frontMatrix,e.rotateX(n));default:return e.multiplyMatrix(e.frontMatrix,e.rotateZ(n))}case i.VIEW.side:switch(r.axis){case i.AXIS.top:return e.multiplyMatrix(e.sideMatrix,e.rotateY(n));case i.AXIS.left:return e.multiplyMatrix(e.sideMatrix,e.rotateZ(n));default:return e.multiplyMatrix(e.sideMatrix,e.rotateX(-n))}default:return null}}},821:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.kebab=void 0,e.kebab=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}}},e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,r),o.exports}return r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(607)})());